<div>
    <div style="border-bottom: 1px solid; display: flex; justify-content: space-between; align-items: center; background-color: white;">
        <div style="display: flex; align-items: center;">
            <img src="../assets/image/orb-logo.png" alt="" style="width: 50px;">
            <h1 style="margin: 5px 0 5px 10px;">Orb: Server Manager</h1>
        </div>
        <div>
            <button mat-raised-button>Filter</button>
            <button mat-raised-button>Add server</button>
        </div>
    </div>
    <div style="background-color: white;">
        <ng-container *ngIf="(appState$ | async) as appState" [ngSwitch]="appState.dataState">
            <ng-container *ngSwitchCase="DataState.LOADING">
                <div style="position: absolute; top: 50%; left: 50%;">
                    <mat-progress-spinner mode="indeterminate"></mat-progress-spinner>
                </div>
            </ng-container>
            <ng-container *ngSwitchCase="DataState.LOADED">
                
                <table>
                    <thead>
                        <th> </th>
                        <th>IP Address</th>
                        <th>Name</th>
                        <th>Memory</th>
                        <th>Type</th>
                        <th>Status</th>
                    </thead>
                    <tbody *ngFor="let server of appState.appData.data.servers; let i = index">
                        <tr>
                            <td><img src="../assets/image/server.png" alt="server.name" width="40" height="40"></td>
                            <td>{{ server.ipAddress }}</td>
                            <td>{{ server.name }}</td>
                            <td>{{ server.memory }}</td>
                            <td>{{ server.type }}</td>
                            <td>
                                <div *ngIf="server.status == 'SERVER_UP'; else elseBlock">
                                    <img src="../assets/image/orb-green.svg" alt="" width="48" height="48">
                                </div>
                                <ng-template #elseBlock>
                                    <img src="../assets/image/orb-red.svg" alt="" width="48" height="48">
                                </ng-template>
                            </td>
                            <td>
                                <button mat-raised-button (click)="pingServer(server.ipAddress)">
                                    <i class="material-icons" *ngIf="(filterStatus$ | async) === '' || (filterStatus$ | async) !== server.ipAddress" title="Ping">&#xe328;</i>
                                    <i class="material-icons" *ngIf="(filterStatus$ | async) === server.ipAddress" title="Check">cached</i>
                                </button>
                            </td>
                            <td>
                                <button mat-raised-button color="warn">
                                    <i class="material-icons">delete</i>
                                </button>
                            </td>
                        </tr>
                    </tbody> 
                </table>
            </ng-container>
        </ng-container>
    </div>
</div>